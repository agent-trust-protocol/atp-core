# ATP™ Production Environment Configuration Template
# Copy this to .env.production and fill in secure values

# ============================================================================
# CORE ATP™ CONFIGURATION
# ============================================================================

NODE_ENV=production
ATP_ENVIRONMENT=production

# ============================================================================
# SERVICE PORTS
# ============================================================================

IDENTITY_SERVICE_PORT=3001
VC_SERVICE_PORT=3002
PERMISSION_SERVICE_PORT=3003
RPC_GATEWAY_PORT=3000
RPC_GATEWAY_HTTPS_PORT=3443
AUDIT_LOGGER_PORT=3005
PROTOCOL_INTEGRATIONS_PORT=3006

POSTGRES_PORT=5432
IPFS_API_PORT=5001
IPFS_GATEWAY_PORT=8080
PROMETHEUS_PORT=9090
GRAFANA_PORT=3090

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

POSTGRES_HOST=postgres
POSTGRES_DB=atp_production
POSTGRES_USER=atp_user
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
POSTGRES_MAX_CONNECTIONS=20

DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# SECURITY & ENCRYPTION (REPLACE ALL VALUES)
# ============================================================================

# Generate with: openssl rand -hex 64
JWT_SECRET=REPLACE_WITH_SECURE_JWT_SECRET_128_CHARS

# Generate with: openssl rand -hex 32  
AUDIT_ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_HEX_KEY
SERVICE_ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_HEX_KEY
MASTER_ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_HEX_KEY

# CA Configuration
CA_PRIVATE_KEY_PATH=/secrets/ca-private-key.pem
CA_CERTIFICATE_PATH=/secrets/ca-certificate.pem
CA_PASSPHRASE=REPLACE_WITH_SECURE_CA_PASSPHRASE

# TLS/SSL Configuration
TLS_CERT_PATH=/ssl/atp-certificate.pem
TLS_KEY_PATH=/ssl/atp-private-key.pem
ENABLE_MTLS=true

# ============================================================================
# SERVICE ENDPOINTS
# ============================================================================

IDENTITY_SERVICE_URL=http://identity-service:3001
VC_SERVICE_URL=http://vc-service:3002
PERMISSION_SERVICE_URL=http://permission-service:3003
RPC_GATEWAY_URL=http://rpc-gateway:3000
AUDIT_SERVICE_URL=http://audit-logger:3005

EXTERNAL_GATEWAY_URL=https://api.atp.dev
EXTERNAL_DOCS_URL=https://docs.atp.dev

# ============================================================================
# INFRASTRUCTURE SERVICES
# ============================================================================

IPFS_HOST=ipfs
IPFS_API_URL=http://ipfs:5001
GRAFANA_ADMIN_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# ============================================================================
# SECURITY POLICIES
# ============================================================================

CORS_ORIGIN=https://app.atp.dev,https://dashboard.atp.dev
ENABLE_MTLS=true
DEBUG_MODE=false
LOG_LEVEL=info
RATE_LIMIT_MAX_REQUESTS=100
SESSION_SECRET=REPLACE_WITH_SECURE_SESSION_SECRET

# Production Environment Configuration Template for Quantum-Safe ATP
# Agent Trust Protocolâ„¢ - Production Deployment
# 
# IMPORTANT: Copy this file to .env.production and replace all placeholder values
# DO NOT commit .env.production to version control
#
# For secret management, use one of these methods:
# 1. Environment variables injected at deployment time
# 2. Secret management services (AWS Secrets Manager, HashiCorp Vault, etc.)
# 3. Kubernetes secrets or Docker secrets

# Database Configuration
# Generate strong password: openssl rand -base64 32
DB_PASSWORD=${DB_PASSWORD}
DATABASE_URL=postgresql://atp_user:${DB_PASSWORD}@${DB_HOST:-localhost}:${DB_PORT:-5432}/${DB_NAME:-atp_production}

# Redis Configuration
# Generate strong password: openssl rand -base64 32
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST:-redis}:${REDIS_PORT:-6379}

# Grafana Configuration
# Generate strong password: openssl rand -base64 32
GRAFANA_PASSWORD=${GRAFANA_PASSWORD}

# ATP Server Configuration
NODE_ENV=production
ATP_QUANTUM_SAFE=true
ATP_SECURITY_LEVEL=post-quantum
ATP_AUDIT_LEVEL=comprehensive
ATP_TRUST_LEVELS=basic,verified,enterprise
ATP_PORT=${ATP_PORT:-3007}
ATP_MANAGEMENT_PORT=${ATP_MANAGEMENT_PORT:-8443}

# Security Configuration
ATP_RATE_LIMIT_ENABLED=true
ATP_RATE_LIMIT_REQUESTS_PER_MINUTE=${RATE_LIMIT_RPM:-100}
ATP_RATE_LIMIT_BURST=${RATE_LIMIT_BURST:-20}
ATP_SESSION_TIMEOUT=${SESSION_TIMEOUT:-3600}
ATP_MAX_CONNECTIONS=${MAX_CONNECTIONS:-1000}

# JWT Secret - Generate with: openssl rand -base64 64
JWT_SECRET=${JWT_SECRET}

# Monitoring Configuration
ATP_MONITORING_ENABLED=true
ATP_METRICS_ENABLED=true
ATP_HEALTH_CHECK_ENABLED=true
PROMETHEUS_METRICS_PORT=${PROMETHEUS_PORT:-9091}

# Logging Configuration
LOG_LEVEL=${LOG_LEVEL:-info}
LOG_FORMAT=json
LOG_MAX_FILES=${LOG_MAX_FILES:-10}
LOG_MAX_SIZE=${LOG_MAX_SIZE:-100MB}

# SSL/TLS Configuration
ATP_SSL_ENABLED=true
ATP_SSL_CERT_PATH=${SSL_CERT_PATH:-/app/certs/server.crt}
ATP_SSL_KEY_PATH=${SSL_KEY_PATH:-/app/certs/server.key}
ATP_SSL_CA_PATH=${SSL_CA_PATH:-/app/certs/ca.crt}

# Quantum-Safe Cryptography Configuration
ATP_ED25519_ENABLED=true
ATP_DILITHIUM_ENABLED=true
ATP_HYBRID_MODE=true
ATP_KEY_ROTATION_INTERVAL=${KEY_ROTATION_INTERVAL:-86400}

# Encryption Keys for Private Key Storage
# Generate with: openssl rand -hex 32
ATP_ENCRYPTION_KEY=${ATP_ENCRYPTION_KEY}
ATP_ENCRYPTION_IV=${ATP_ENCRYPTION_IV}

# Enterprise Features
ATP_ENTERPRISE_FEATURES=true
ATP_COMPLIANCE_MODE=true
ATP_AUDIT_RETENTION_DAYS=${AUDIT_RETENTION_DAYS:-2555}  # 7 years
ATP_BACKUP_ENABLED=true
ATP_BACKUP_INTERVAL=${BACKUP_INTERVAL:-3600}

# Performance Tuning
ATP_WORKER_PROCESSES=${WORKER_PROCESSES:-4}
ATP_MAX_MEMORY=${MAX_MEMORY:-4GB}
ATP_CONNECTION_POOL_SIZE=${POOL_SIZE:-20}
ATP_QUERY_TIMEOUT=${QUERY_TIMEOUT:-30000}

# External Integrations
ATP_WEBHOOK_ENABLED=true
# Generate webhook secret: openssl rand -base64 32
ATP_WEBHOOK_SECRET=${WEBHOOK_SECRET}
ATP_API_KEY_REQUIRED=true
ATP_API_RATE_LIMIT=${API_RATE_LIMIT:-1000}

# Deployment Information
DEPLOYMENT_VERSION=${VERSION:-1.0.0}
DEPLOYMENT_DATE=${DEPLOYMENT_DATE}
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_REGION=${AWS_REGION:-us-east-1}